## 跟你朋友介紹 Git

### :green_book: 前言

版本控管是非常耗時的工作，大家都經歷過學生時代的時候，分組作報告。我做第一部分，小二做第二部分，小三跟人跑了，小四做第三部分。總會有一個人是整理最後檔案的，所以在共同的隨身碟中就會看到作業 (第一版)，作業 (第二版)，最後版本，這些檔案出現。在學生時期這樣做看起來蠻有條理。但今天場景換到公司，在團隊中這樣的管理，卻顯得雜亂無章。而且常常會發生改到前一個人的東西。進而衍生出 Git 來協助開發者解決版本控管。

### :green_book: Git應用及基本概念

Git 是一個 Open Source 的版本管理系統，我們可以很鬆的在上面看到專案甚麼時候更新、是誰更新、更新了甚麼。**打開 Git Bash 你會發現介面是 CLI。沒錯，這也是為什麼要學 CLI的原因之一**。也許你會問說 Git 難道沒有 GUI 嗎? 答案是有的，例如：GitKraKen、SourceTree 等，但還是會推薦大家要把 CLI 學好，因為這些 GUI 只是幫助你了解整個 flow。

### :green_book: Git 常用的指令

既然菜哥有興趣學 Git，那這邊有些常用的指令菜哥要多多留意了。

* `git init` - 這是Git 初始化的一個指令。當你想要初始化一個 Git repository 的時候，就要使用它。
* `git config -- global user.name` / `git config --global user.email` - 這是在做版本控制的時候很重要的指令，如此一來，別人才會知道是誰做了那些更改。
* `git add` - 在 Git 中，有三個區塊，分別是 working directory，staging area，repository。當你還在編輯檔案的時候，你是在 working directory 中編輯。完成後，使用 `git add` 指令將編輯好的檔案加入  staging area，準備上 repository。也許這樣有點模糊。例如今天你的笑話大集，你全部寫好之後，你要將這些笑話放在你的隨身碟中，準備交去電視台角逐電視笑話冠軍。這裡的隨身碟就是 staging area，而電視台則是 repository。
* `git status` - 在加入 staging area 之後，你可以用這個指令查看你的笑話是否都增加到這個區域了
* `git commmit` - 為什麼要有 commit？例如：今天你先存了 1~10 篇的笑話。如果沒有做紀錄，你可能忘記自己這次存了哪些笑話，或是做了哪些變更，下一次又不小心再一次存了第 10 篇笑話。為了防止類似事件發生。就要做一個紀錄。
* `git commit --amend` - 如果今天再做紀錄的時候不小心手滑打錯怎麼辦？我們可以使用這個指令更改剛剛做的 commit，如此一來，就不擔心 commit 打錯的問題了。
* `git reset HEAD^` - 如果你不想要你的 commit的話，可以使用 `git reset HEAD^`。這個指令可以幫助你移除你的 commit。移除 commit 有分為兩種類型。一種是使用者只想移除 commit，那就使用 `git reset HEAD^ --soft`; 如果是連檔案的變更都要移除，就要把 soft 改為 hard。所以這個指令要小心使用。

菜哥上回的笑話在校稿後，不是發生笑話還沒全部完成，結果就發佈出去的意外嗎？Git 也有一些指令可以讓這樣的意外事件不再發生。這邊就要帶到 branch 的概念。校稿跟編輯是兩個平行的工作，而 branch 就是把校搞分支出來。因此校稿的版本不至於跟編輯的版本打在一起。等到第一或第二段校稿完成後，再跟編輯組的合併，最終板就完成了。接下來就來看怎麼操作吧！

* `git branch` - 這個指令就是用來創立一個分支，讓你個工作在不同的分支下進行。
* `git branch -v` - 主要是用來查看你目前有哪些分支。
* `git checkout` - 如果菜哥想看哪一個分支的內容，可以用這個指令在不同的分支做切換，你就可以觀察各項進度了。另外，要注意的一點就是，如果今天檔案都還沒加入到 staging area，那檔案的來源不論是在 master 或 branch，都會是同一個來源。所以你可能會看到明明是變更 branch 的內容，怎麼切到 master 之後，master也變更了。所以這個時候，只要使用 `git add`，就可以看到 branch 及 master 的差別。
* `git merge` - 這個就是前面講到的整合功能，最後總要有一個最終版的笑話，用來交給電視台的。所以用這項功能，把分支出去的都整合在主線版本上。要是遇到一些衝突，就要麻煩同仁手動來更改了。
* `git branch -d` - 整併後，散落在旁邊的分支也不需要用到了，這個時候就可以使用刪除，把這些分支刪掉。

終於到最後的交稿日了，我們來談談如何繳件吧！上次有談到把所有的笑話都放在隨身碟中，交去給電視台。那實作上怎麼做呢？

* `git push` - Push 這個指令就是讓我們把稿繳去電視台。
* `git pull` - 有時候電視台會希望我們的笑話在做一些修改，或是新增內容。我們就可以用這個指令，把在電視台的版本拉過來我們這邊做修正。如此一來，我們的版本才會跟電視台是同步的。不會混亂。

### :green_book: 總結
這些指令只要多用就會孰悉了，相信可以幫助菜哥在版本控管上有很大的改善。